<div class="container my-5">
    <section class="wireframe-box">
        <h2 class="text-center mb-4 section-title">Proyectos</h2>

        <!-- Grid de proyectos -->
        <div class="row g-4">
            @for (project of projects; track project.id) {
            <div class="col-md-6 col-lg-4">
                <app-project-card [project]="project" (viewDetails)="onViewDetails($event)">
                </app-project-card>
            </div>
            } @empty {
            <div class="col-12 text-center">
                <p class="text-muted">No hay proyectos disponibles.</p>
            </div>
            }
        </div>

        <!-- Botón para refrescar -->
        <div class="text-center mt-4">
            <button class="btn btn-outline-primary" (click)="refreshProjects()">
                <i class="bi bi-arrow-clockwise me-1"></i>
                Actualizar proyectos
            </button>
        </div>
    </section>
</div>

<!-- Modal de detalles -->
@if (isModalOpen && selectedProject) {
<div class="modal-backdrop fade show" (click)="closeModal()"></div>
<div class="modal fade show d-block" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="bi bi-folder2-open me-2"></i>
                    {{ selectedProject.name }}
                </h5>
                <button type="button" class="btn-close" (click)="closeModal()" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                <p class="lead">{{ selectedProject.description }}</p>

                <h6 class="mt-4">Tecnologías utilizadas:</h6>
                <div class="technologies">
                    @for (tech of selectedProject.technologies; track tech) {
                    <span class="badge bg-primary me-1 mb-1">{{ tech }}</span>
                    }
                </div>
            </div>
            <div class="modal-footer">
                <a [href]="selectedProject.demoUrl" target="_blank" rel="noopener" class="btn btn-primary">
                    <i class="bi bi-box-arrow-up-right me-1"></i> Ver Demo
                </a>
                <a [href]="selectedProject.codeUrl" target="_blank" rel="noopener" class="btn btn-outline-secondary">
                    <i class="bi bi-github me-1"></i> Ver Código
                </a>
                <button type="button" class="btn btn-secondary" (click)="closeModal()">Cerrar</button>
            </div>
        </div>
    </div>
</div>
}